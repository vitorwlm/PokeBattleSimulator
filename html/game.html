<!-- [CTeSP] PÃ¡gina do Jogo
     Funciona como uma SPA (Single Page Application) simples, alternando visibilidade de divs.
-->
<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PokÃ©Battle Simulator</title>
  <link rel="stylesheet" href="/styles/styles.css" />
  <link rel="stylesheet" href="/styles/battle.css" />
  <link rel="stylesheet" href="/styles/sidebar.css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>

  <!-- Menu Lateral -->
  <nav class="sidebar">
      <a href="/index.html" class="sidebar-link">InÃ­cio</a>
      <a href="/html/pokedex.html" class="sidebar-link">PokÃ©dex</a>
      <a href="/html/hallOfFame.html" class="sidebar-link">Ranking</a>
  </nav>

  <!-- Barra de SessÃ£o do Utilizador -->
  <div class="session-bar">
    <span id="user-info">Utilizador</span>
    <button id="logout-btn" onclick="logout()">Logout</button>
  </div>

  <!-- Fase 1: SeleÃ§Ã£o de Equipa -->
  <!-- SecÃ§Ã£o de SeleÃ§Ã£o de PokÃ©mon -->
  <div id="pokemon-selection" class="selection-container">
    <h2>Escolhe a tua Equipa (3 PokÃ©mons)</h2>
    
    <!-- VisualizaÃ§Ã£o da Equipa Selecionada -->
    <div id="team-preview" class="flex justify-center gap-4 mb-6 min-h-[100px]">
        <!-- Slots vazios ou preenchidos -->
    </div>
    <button id="start-battle-btn" class="hidden bg-green-500 text-white font-bold py-2 px-6 rounded-full mb-4 hover:bg-green-600 transition-colors" onclick="startTeamBattle()">INICIAR BATALHA</button>

    <div class="search-container">
      <input type="text" id="pokemon-search" placeholder="Pesquisa pelo nome..." class="pokemon-search" />
    </div>
    
    <div id="pokemon-list" class="pokemon-grid">
      <!-- SerÃ¡ preenchido dinamicamente -->
    </div>
  </div>

  <!-- Fase 2: Arena de Batalha (Inicialmente oculta) -->
  <div class="main-container" id="main-container" style="display: none;">

    <div class="battle-arena">

      <div class="pokemon-card enemy">
        <div id="enemy-team-indicator" class="flex justify-center gap-1 mb-2 text-xs">ðŸ”´ðŸ”´ðŸ”´</div>
        <h2 id="enemy-name">Carregando...</h2>
        <img id="enemy-img" src="" alt="Inimigo" />

        <div class="hp-container">
          <div id="enemy-hp-bar" class="hp-fill"></div>
        </div>
        <p id="enemy-hp-text">HP: 0/0</p>
      </div>

      <div class="vs">VS</div>

      <div class="pokemon-card player">
        <div id="player-team-indicator" class="flex justify-center gap-1 mb-2 text-xs">ðŸ”µðŸ”µðŸ”µ</div>
        <img id="player-img" src="" alt="Jogador" />
        <h2 id="player-name">Carregando...</h2>

        <div class="hp-container">
          <div id="player-hp-bar" class="hp-fill"></div>
        </div>
        <p id="player-hp-text">HP: 0/0</p>

        <div id="moves-container" class="moves-box">
        </div>
      </div>

    </div>

    <div id="battle-log" class="log-box">A preparar batalha...</div>

    <!-- Ãrea para o Ranking (Hall of Fame) -->
    <div class="ranking-container" style="margin-top: 20px; text-align: center;">
      <h3>Hall of Fame</h3>
      <ul id="ranking-list" class="ranking-list"></ul>
    </div>

  </div>

  <a href="/index.html" class="back-link-btn">Voltar ao Menu</a>

<script src="/scripts/config.js"></script>
<script src="/scripts/hallOfFame.js"></script>
<script src="/scripts/auth/session.js"></script>
<script src="/scripts/battle.js"></script>
<script src="/scripts/setup.js"></script>
</body>

</html>